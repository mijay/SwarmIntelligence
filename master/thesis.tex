\documentclass[14pt, times,
	master, subf, href,
	draft
]{disser}
\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}

\usepackage{pscyr}              % красивый шрифт
\usepackage{tabularx}           % таблицы
\usepackage{comment}            % многострочные комментарии
\usepackage{textcomp}           % набор типографских символов

% Алгоритмы:
\usepackage{algorithm}
\usepackage{algpseudocode}

% Подписи:
\usepackage{caption}
\newcommand{\capt}[1]{\hspace{\leftskip}\parbox{\linewidth}{\captionof*{formula}{#1}}}  %подпись вырованенная по центру текста (а не страницы), т.е. как формулы

% Картинки:
\usepackage[
  a4paper, mag=1000, includefoot,
  left=3cm, right=1cm, top=2cm, bottom=2cm, headsep=1cm, footskip=1cm
]{geometry}                     % оформление картинки
\ifpdf\usepackage{epstopdf}\fi  % вставка eps в pdf
%\graphicspath{{fig/}}

% Списки:
\usepackage{enumitem}
\AddEnumerateCounter{\asbuk}{\asbuk}{щ}
\setlist[2]{label={\asbuk*}.}

% Сокращения:
\usepackage[intoc, russian]{nomencl}  
\makenomenclature
\renewcommand{\nomlabel}[1]{\hbox to 6cm{#1}} % делаем выравнивание и отступ
\renewcommand{\nomname}{Перечень принятых в работе сокращений}

% Вставка листингов кода:
\usepackage[final]{listings}
\lstloadlanguages{[Sharp]C}     % загрузка используемых языков
\lstset{tabsize=2,              % изменить настройки пакета: поменять размер табов (4 а не 8)
commentstyle=\itshape,          % меняем стиль комментариев на италик
frame=lines,                    % обрамлять листинг линиями сверху и снизу
framesep=10pt, texcl,           % отступ до кода + комментарии в коде обрабатываются LaTeX
aboveskip=15pt,belowskip=15pt,  % отступы до и после листинга
basicstyle=\small,              % стиль для всех надписей (избавляюсь от 14 шрифта)
columns=fullflexible}           % магия - пробелы м/у буквами как в обычном тексте
\lstnewenvironment{cscode}      % модифицированное окружение:
{\lstset{                       % задаем настройки пакета локальные в этом окружении
    language=[Sharp]C,          % язык - C#
    morekeywords={where}        % добавили дополнительное ключевое слово
 }\singlespacing                % сделали одинарный интервал м/у строк
 \noindent\minipage{\linewidth}}% не разбивать страницы
{\endminipage                   % закончили неразбивать страницы
\onehalfspacing}                % вернули интервал обратно

% Номера страниц сверху справа:
\def\headfont{\small}
\pagestyle{headright}
\chapterpagestyle{headright}

% Кастомизация стилей:
\renewcommand\theappendix{\@arabic\c@chapter}   % нумерация приложений по арабски
\let\vec=\mathbf                % Использовать полужирное начертание для векторов
\setcounter{tocdepth}{2}        % Включать подсекции в оглавление
\usepackage{indentfirst}        % отступ у первого абзаца раздела
\tolerance=9000                 % ставим растяжимость побольше - прощай overfull
\usepackage{amssymb}            % доп. матсимволы + <= в русском стиле
\renewcommand{\ge}{\geqslant}   % <= по умолчанию русское
\renewcommand{\le}{\leqslant}   % >= по умолчанию русское
\renewcommand{\slash}{\textfractionsolidus}     % красивый "/" в тексте

% Красивые todo
\usepackage{ifdraft}
\usepackage{tikz}
\newcommand{\todo}[1]{
	\ifdraft {
		\begin{tikzpicture}[remember picture]
			\definecolor{orange}{rgb}{1,0.5,0}
			\draw node[draw=black, fill=orange,
					 text width=\linewidth - 3.6 em] {
				TODO: #1
			};
		\end{tikzpicture}
	} {}
}

\begin{document}
\include{title}
\include{referat}
\setcounter{page}{2}
\tableofcontents
\include{intro}
\include{first}
\include{second}
\include{third}
\include{concl}

\bibliographystyle{gost2008}
\bibliography{thesis}
\end{document}
